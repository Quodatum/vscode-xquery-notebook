{"cells":[{"kind":1,"language":"markdown","value":"Analysis XML source"},{"kind":2,"language":"xquery","value":"(:<:)\r\ndeclare namespace functx = \"http://www.functx.com\";\r\ndeclare variable $SRC:= \"C:\\Users\\mrwhe\\git\\quodatum\\xq-catalogs\\packages.src\\xpath-4.0\\function-catalog.xml\";\r\ndeclare variable $DOC:=fetch:doc($SRC);\r\n\r\ndeclare function functx:namespaces-in-use( $root as node()? )\r\nas xs:anyURI* \r\n{\r\n   $root/descendant-or-self::*/(.|@*)/namespace-uri(.)=> distinct-values()\r\n};\r\n\r\ndeclare function local:path($node)\r\nas xs:string{\r\n  $node/ancestor-or-self::*!name(.)=>string-join(\"/\")\r\n};\r\n\r\n"},{"kind":2,"language":"xquery","value":"$DOC=>functx:namespaces-in-use()"},{"kind":2,"language":"xquery","value":" $DOC//*!local:path(.)=>distinct-values()"},{"kind":2,"language":"xquery","value":"$DOC//*/name()=>distinct-values()=>sort()"},{"kind":2,"language":"xquery","value":"\r\n$DOC//*/path()=>count()"},{"kind":2,"language":"xquery","value":"in-scope-prefixes($DOC/*)\r\n"}]}