{"cells":[{"kind":1,"language":"markdown","value":"namespaces"},{"kind":2,"language":"xquery","value":"(:<:)\r\n\r\ndeclare function local:remove-prefixes($node as node(), $prefixes as xs:string*) {\r\n    typeswitch ($node)\r\n    case element()\r\n        return\r\n            if ($prefixes = ('#all', prefix-from-QName(node-name($node)))) then\r\n                element {QName(namespace-uri($node), local-name($node))} {\r\n                    $node/@*,\r\n                    $node/node()/local:remove-prefixes(., $prefixes)\r\n                }\r\n            else\r\n                element {node-name($node)} {\r\n                    $node/@*,\r\n                    $node/node()/local:remove-prefixes(., $prefixes)\r\n                }\r\n    case document-node()\r\n        return\r\n            document {\r\n                $node/node()/local:remove-prefixes(., $prefixes)\r\n            }\r\n    default\r\n        return $node\r\n};"},{"kind":2,"language":"xquery","value":"<xml xmlns='uri' xml:unused=\"hello\" xmlns:prefix='uri2' prefix:name='value'>\r\n   <prefix:child/>\r\n</xml>\r\n=>local:remove-prefixes(\"unused\")"},{"kind":1,"language":"markdown","value":"strip"},{"kind":2,"language":"xquery","value":"<xml xmlns='uri' xml:unused=\"hello\" xmlns:prefix='uri2' prefix:name='value'>\r\n   <prefix:child/>\r\n</xml>\r\n=>util:strip-namespaces(\"\")"}]}